<!doctype html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<link href="css/common.css" type="text/css" rel="stylesheet" />
<link href="css/jquery.pagepiling.css" type="text/css" rel="stylesheet" />
<style>
html{overflow:hidden;width:100%;height:100%;}
body{width:100%;height:100%;}
#page1{width:100%;height:100%;position:relative;}
canvas{position:absolute;}
.section2,.section3,.section4 { text-align: center; font: 50px "Microsoft Yahei"; color: #fff;}
.section2 p { position: relative; left: -120%;}
.section3 p { position: relative; bottom: -120%;}
.section4 p { display: none;}
</style>

</head>

<body>
<div id="pagepiling">
    <div class="section">
    	<div id="page1">
            <canvas id="canvas"></canvas>
        </div>
    </div>
    <div class="section section2">
	<h3>二</h3>
	<p>回调函数</p>
    </div>
    <div class="section section3">
        <h3>三</h3>
        <p>回调函数</p>
    </div>
    <div class="section section4">
        <h3>四</h3>
        <p>回调函数</p>
    </div>
</div>
<script src="js/common.js"></script>
<script src="js/canvas.js"></script>
<script src="js/jquery-1.8.3.min.js"></script>
<script src="js/jquery.easing.min.js"></script>
<script src="js/jquery.pagepiling.min.js"></script>
<script>
var oC=document.getElementById('canvas');
var gd=oC.getContext('2d');
var winW = window.innerWidth;
var winH = window.innerHeight;
var N = 120;
var minDis=75;
var state=2;
//像素级操作需要服务器环境,故直接在本地取值方便上传Git
var ret=[16,17,18,20,24,25,29,30,34,40,41,42,43,44,49,54,60,64,65,66,67,68,69,70,74,81,82,83,85,89,90,94,95,99,105,106,107,108,109,112,116,118,120,124,140,141,142,144];
var fr=[0,1,2,4,5,7,9,10,12,14,15,17,18,19,25,30,35,36,37,38,39,40,45,55,56,57,58,59,60,62,65,67,68,71,74,81,82,83,84,85,87,90,92,96,97,98,99,105,106,107,108,109,111,117,123,125,126,127,128,129,136,137,138,140,144,145,147,149,150,152,153,154,157,165,166,167,168,169,170,172,174,175,177,179,180,182,184,190,191,192,193,194,195,197,200,202,203,206,209];
var hi=[55,56,57,58,59,62,67,70,71,72,73,74,80,84,85,86,87,88,89,90,94,100,101,102,104];
var we=[0,1,2,3,9,11,12,13,19,20,21,22,23,30,31,32,33,34,35,37,39,40,42,44,45,47,49,55,56,57,58,59,64,69,76,77,78,80,84,85,89,90,94,101,102,103,105,109,110,114,116,117,118,125,126,127,128,129,131,137,141,145,146,147,148,149,155,156,157,158,159,160,162,164,165,167,169,170,172,174];
var deleteLog = false;
$(document).ready(function() {
    $('#pagepiling').pagepiling({
        menu: null,
        verticalCentered: true,
        sectionsColor: ['#009966', '#009966', '#009966','#009966'],
        anchors: ['page1', 'page2', 'page3','page4'],
        scrollingSpeed: 700,
        easing: 'swing',
        loopBottom: false,
        loopTop: false,
        css3: true,
        navigation: {
            'textColor': '#000',
            'bulletsColor': '#000',
            'position': 'right',
            'tooltips': ['home page', 'introduce', 'skills', 'contact way']
        },
        normalScrollElements: null,
        normalScrollElementTouchThreshold: 5,
        touchSensitivity: 5,
        keyboardScrolling: true,
        sectionSelector: '.section',
        animateAnchor: false,

        //events
        afterLoad: function(anchorLink, index){
			if(index == 2){
				$('.section2').find('p').delay(500).animate({
					left: '0'
				}, 1500, 'easeOutExpo');
			}
			if(index == 3){
				$('.section3').find('p').delay(500).animate({
					bottom: '0'
				}, 1500, 'easeOutExpo');
			}
			if(index == 4){
				$('.section4').find('p').fadeIn(2000);
			}
		},
		onLeave: function(index, direction){
			/*if(index == '2'){
				$('.section2').find('p').delay(500).animate({
					left: '-120%'
				}, 1500, 'easeOutExpo');
			}
			if(index == '3'){
				$('.section3').find('p').delay(500).animate({
					bottom: '-120%'
				}, 1500, 'easeOutExpo');
			}
			if(index == '4'){
				$('.section4').find('p').fadeOut(2000);
			}*/
		}
    });
});
$(function(){
	cSize(oC);
	oC.width = winW;
	oC.height = winH;
	oC.onclick=function(){
		state++;
		state%=10;	
	}
	draw();
	window.onresize=function(){
		cSize(oC);
	};
});

</script>
</body>
</html>